% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/weight_diagnostics.R
\name{svy_compare_comps}
\alias{svy_compare_comps}
\title{Compare Survey Frequencies vs Targets Across Multiple Weight Vectors}
\usage{
svy_compare_comps(data, targets, wt_vars)
}
\arguments{
\item{data}{A data frame or tibble containing the survey variables.}

\item{targets}{A named list of tibbles containing the population targets.}

\item{wt_vars}{A character vector of column names in \code{data} containing the
survey weights to be compared.}
}
\value{
A long-format \code{tibble} where each row represents a category/level.
It includes a \code{WT_NAME} column identifying the weight vector source.
The column structure is: \code{WT_NAME}, \code{VAR}, \code{LEVEL},
\code{TARGET_PERCENT}, \code{UNWT_SAMPLE_PERCENT}, \code{TARGET_UNWT_DIFF},
\code{WT_SAMPLE_PERCENT}, \code{TARGET_WT_DIFF}.
}
\description{
Calculates and compares the difference between survey frequencies and
population targets for multiple weight vectors in a single long-format tibble.
}
\examples{
# Load the package data (requires devtools::load_all() during development)
if (requireNamespace("tibble", quietly = TRUE) & requireNamespace("dplyr", quietly = TRUE)) {
  data("survey_df")
  data("target_list")
  # Create a second dummy weight for comparison
  survey_df_comp <- survey_df |>
    dplyr::mutate(WEIGHT_2 = .data$WEIGHT * c(rep(1.2, 1000), rep(0.8, 1000)))

  # Compare base weight to a modified weight
  svy_compare_comps(survey_df_comp, target_list, wt_vars = c("WEIGHT", "WEIGHT_2"))
}

}
