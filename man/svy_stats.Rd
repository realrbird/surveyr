% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/weight_diagnostics.R
\name{svy_stats}
\alias{svy_stats}
\title{Calculate Weight Summary Statistics}
\usage{
svy_stats(wt_vec, conf_level = 0.95)
}
\arguments{
\item{wt_vec}{A numeric vector containing the survey weights. Must not contain \code{NA} values.}

\item{conf_level}{The confidence level (as a proportion, e.g., 0.95 for 95\\%)
to use when calculating the design-adjusted margin of error (MOE).}
}
\value{
A \code{tibble} with a single row and seven columns:
\item{n}{Numeric. The sample size (length of \code{wt_vec}).}
\item{mean}{Numeric. The arithmetic mean of the weights.}
\item{sd_wt}{Numeric. The standard deviation of the weights.}
\item{deff}{Numeric. The Kish design effect.}
\item{ess}{Numeric. The effective sample size.}
\item{moe}{Numeric. The design-adjusted margin of error (in percentage points).}
\item{wt_ratio}{Numeric. The ratio of max weight to min weight.}
}
\description{
Computes key descriptive and diagnostic statistics for a vector
of survey weights, including the design effect (DEFF) and effective sample
size (ESS).
}
\details{
\describe{
\item{DEFF (Kish)}{The Kish approximation of the overall survey design effect,
calculated as $n \sum w_i^2 / (\sum w_i)^2$. Represents the factor by which
the sample size must be inflated to achieve the precision of a simple random
sample.}
\item{ESS}{The effective sample size, calculated as $n / DEFF$. This is the
size of a simple random sample required to achieve the same precision.}
\item{MOE}{The design-adjusted margin of error, calculated assuming a worst-case
proportion of $0.5$ (50\\%/50\\% split) and expressed in percentage points.
The formula is: $Z_{\alpha/2} \times \sqrt{0.25 / \text{ESS}} \times 100$.}
}
}
\examples{
# Load the package data (requires devtools::load_all() during development)
if (requireNamespace("tibble", quietly = TRUE) & requireNamespace("stats", quietly = TRUE)) {
  # Using the internal survey_df for demonstration
  data("survey_df")

  # Default 95\% confidence level
  svy_stats(survey_df$WEIGHT)

  # 99\% confidence level
  svy_stats(survey_df$WEIGHT, conf_level = 0.99)
}

}
