% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/svy_collapse.R
\name{svy_collapse}
\alias{svy_collapse}
\title{Collapse Factor Levels in Data and Targets}
\usage{
svy_collapse(data, targets, var_name, mapping)
}
\arguments{
\item{data}{A data frame or tibble containing the survey data.}

\item{targets}{A named list of target data frames.}

\item{var_name}{The name of the variable to collapse (as a string).}

\item{mapping}{A named list specifying how to collapse levels. The names of the list
are the new category labels, and the values are character vectors of the old categories
to combine. Passed to \code{forcats::fct_collapse}.}
}
\value{
A list containing two elements:
\item{data}{The modified dataset with collapsed factor levels.}
\item{targets}{The modified target list with collapsed levels and aggregated frequencies.}
}
\description{
Collapses factor levels for a specific variable in both the dataset and the
target list according to a specified mapping. This is useful for combining
small or empty categories to ensure raking converges.
}
